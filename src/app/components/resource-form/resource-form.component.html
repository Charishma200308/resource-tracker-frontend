<div>
  <form class="row g-3 needs-validation" [formGroup]="userform">
    <!-- <div class="col-md-4">
      <label for="employeeId" class="form-label">EMP ID<b>*</b>
        <span class="tooltip-icon" style="margin-left: 5px;">i
        <span class="tooltiptext">Employee Id is a Unique Id</span>
        </span>
      </label>
      <input id="employeeId" type="number" formControlName="empId" class="form-control" 
      placeholder="Enter your ID...." />
      <span [hidden]="!userform.controls['empId'].errors?.['min']" style="color:red">Please enter valid Id</span>
      @if(userform.controls['empId'].errors?.['required'] && userform.controls['empId'].touched)
      {
        <span style="font-size: 14px;">This is required</span>
      }
    </div> -->

    <div class="col-md-4">
      <label for="name" class="form-label">Resource Name<b>*</b>
        <span class="tooltip-icon" style="margin-left: 5px;">i
          <span class="tooltiptext">Employee Name</span>
        </span>
      </label>
      <input id="name" type="text" formControlName="name" class="form-control" placeholder="Enter Your Name...." />
      <span [hidden]="!userform.controls['name'].errors?.['minlength']" style="font-size: 14px;">Please enter valid
        name</span>
      @if(userform.controls['name'].errors?.['required'] && userform.controls['name'].touched)
      {
      <span style="font-size: 14px;">This is required</span>
      }
    </div>

    <div class="col-md-4">
      <label for="designationSelect" class="form-label">Designation<b>*</b>
        <span class="tooltip-icon1" style="margin-left: 5px;">i
          <span class="tooltiptext1">Enter your job role </span>
        </span>
      </label>
      <select id="dsgntion" formControlName="dsgntion" class="form-select"
        placeholder="Enter Your designation....">
        <option selected disabled value="">Select your designation</option>
        <option *ngFor="let dsg of designations" [value]="dsg">{{ dsg }}</option>
        <!-- <option value="Manager">Manager</option>
        <option value="Developer">Developer</option>
        <option value="Designer">Designer</option>
        <option value="Quality Analyst">Quality Analyst</option>
        <option value="Trainee">Trainee</option> -->
      </select>
      @if(userform.controls['dsgntion'].errors?.['required'] && userform.controls['dsgntion'].touched){
      <span style="font-size: 14px;">This is required</span>
      }
    </div>

    <div class="col-md-4">
      <label for="reportingTo" class="form-label">Reporting To<b>*</b>
        <span class="tooltip-icon" style="margin-left: 5px;">i
          <span class="tooltiptext" style="width: 200px;">Enter the name of the person you directly report to</span>
        </span>
      </label>
      <input id="reportingTo" type="text" formControlName="reporting" class="form-control"
        placeholder="Enter the details...." />
      @if(userform.controls['reporting'].errors?.['required'] && userform.controls['reporting'].touched)
      {
      <span style="font-size: 14px;">This is required</span>
      }
    </div>

    <div class="col-md-4">
      <label for="billable" class="form-label">Billable<b>*</b>
        <span class="tooltip-icon" style="margin-left: 5px;">i
          <span class="tooltiptext" style="width: 180px;">Select 'Yes' if your time is billed to a client, or
            'No'</span>
        </span>
      </label>
      <select id="billable" class="form-select" formControlName="billable">
        <option selected disabled value="">Select</option>
        <option *ngFor="let status of billableStatuses" [value]="status">{{ status }}</option>
        <!-- <option value="Yes">Yes</option>
        <option Value="No">No</option> -->
      </select>
      @if(userform.controls['billable'].errors?.['required'] && userform.controls['billable'].touched)
      {
      <span style="font-size: 14px;">This is required</span>
      }
    </div>

    <div class="col-md-4" style="height: 61.979px;">
      <label for="skills" class="form-label">Technology</label>
      <mat-form-field appearance="fill" class="full-width compact-select" style="height: 32.6px;">
        <mat-select id="skills" formControlName="skills" multiple style="margin-top: 3px;font-size: 0.93rem;"
          placeholder="Select skills">
          <mat-option *ngFor="let skill of skills" [value]="skill">
            {{ skill }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-md-5">
      <label for="projectAllocation" class="form-label">Project Allocation<b>*</b></label>
      <mat-form-field appearance="fill" class="full-width compact-select" style="height: 32.6px;">
        <mat-select id="projalloc" formControlName="projalloc" multiple style="margin-top: 3px;font-size: 0.93rem;"
          placeholder="Select Projects">
          <mat-option *ngFor="let project of projects" [value]="project">
            {{ project }}
          </mat-option>
        </mat-select>
      </mat-form-field>

      @if(userform.controls['projalloc'].errors?.['required'] && userform.controls['projalloc'].touched)
      {
      <span style="font-size: 14px;">This is required</span>
      }
    </div>

    <div class="col-md-5">
      <label for="location" class="form-label">Location</label>
      <select id="location" class="form-select" aria-label="location" formControlName="location"
        placeholder="Enter Your location....">
        <!-- <span [hidden]="!userform.controls['location'].errors?.['required']">This is required</span> -->
        <option selected disabled value="">Select your Location</option>
        <option *ngFor="let loc of locations" [value]="loc">{{ loc }}</option>
        <!-- <option value="Hyderabad">Hyderabad</option>
        <option value="Bangalore">Bangalore</option>
        <option value="Mumbai">Mumbai</option> -->
      </select>
    </div>

    <div class="col-md-5">
      <label for="emailInput" class="form-label">Email address<b>*</b>
        <span class="tooltip-icon" style="margin-left: 5px;">i
          <span class="tooltiptext">Your Employee Mail id</span>
        </span>
      </label>
      <input id="emailInput" type="email" class="form-control" placeholder="name@example.com" formControlName="mail" />
      @if(userform.controls['mail'].errors?.['required'] && userform.controls['mail'].touched)
      {
      <span style="font-size: 14px;">This is required</span>
      }
      <span [hidden]="!userform.controls['mail'].errors?.['email']" style="font-size: 14px;">Please enter valid
        Email</span>
      <span *ngIf="userform.controls['mail'].errors?.['notUnique']" style="color: red;font-size: 14px;">
        Email already exists. Please use a different one.
      </span>
    </div>

    <div class="col-md-5">
      <label for="start" class="form-label">CTE DOJ<b>*</b>
        <span class="tooltip-icon" style="margin-left: 5px;">i
          <span class="tooltiptext">Your Joining date</span>
        </span>
      </label>
      <input type="date" id="start" formControlName="doj" class="form-control" />
      @if(userform.controls['doj'].errors?.['required'] && userform.controls['doj'].touched)
      {
      <span style="font-size: 14px;">This is required</span>
      }
    </div>

    <div class="col-md-5">
      <label for="remarks" class="form-label">Remarks</label>
      <input id="remarks" type="text" class="form-control" formControlName="remarks"
        placeholder="Enter Your Remarks...." />
    </div>

    <div>
      <div style="align-items: center;">
        <button style="width:360px;margin-left: 5px;color: black;" class="btn btn-primary" type="submit"
          (click)="confirmSaveFunction()" [disabled]="!userform.valid"
          [ngClass]="{ 'submitdisabled': !userform.valid }">Submit</button>
        <button
          style="margin-left: 70px;width:360px;margin-right: 5px;background: linear-gradient(135deg, #66bb6a, #43a047);"
          class="btn btn-primary" (click)="cancelFunction()">Cancel</button>
      </div>
      <div *ngIf="showpopup" class="toast">
        Values saved successfully!
      </div>
    </div>
  </form>
  <div *ngIf="showCancelModal" class="modal-overlay">
    <div class="modal-box">
      <p>You have unsaved changes. Are you sure you want to leave?</p>
      <button class="yes-btn" (click)="confirmCancel()">Yes</button>
      <button class="no-btn" (click)="closeCancelModal()">No</button>
    </div>
  </div>
  <div *ngIf="showSaveModal" class="modal-overlay">
    <div class="modal-box">
      <p>Are you sure you want to submit the form?</p>
      <button class="yes-btn" (click)="confirmSave()">Yes</button>
      <button class="no-btn" (click)="closeSaveModal()">No</button>
    </div>
  </div>
</div>